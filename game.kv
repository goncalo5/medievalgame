#:import RESOURCES settings.RESOURCES

<DarkLabel>:
    font_size: 25
    color: 0, 0, 0, 1

<MenuLabel@DarkLabel>:
    width: app.width * 0.25
    size_hint: None, None

<ContentLabel@DarkLabel>:
    width: app.width * 0.125
    size_hint: None, None

<HeaderLabel@DarkLabel>:
    font_size: 30

<ImageButton@ButtonBehavior+Image>:
    size: 100, 100
    size_hint: None, None

<HeaderBoxLayout@BoxLayout>:
    canvas:
        Color:
            rgba: 1, 242/255, 179/255, 1
        Rectangle:
            pos: self.pos
            size: self.size
    orientation: "horizontal"
    size_hint_y: None
    height: app.height * 0.1
    Button:
        text: "village"
        on_press:
            app.game.current = "overview"
    Image:
        source: app.wood.icon
    DarkLabel:
        text: "%s" % int(app.wood.current)
    Image:
        source: app.clay.icon
    DarkLabel:
        text: "%s" % int(app.clay.current)
    Image:
        source: app.iron.icon
    DarkLabel:
        text: "%s" % int(app.iron.current)
    Image:
        source: RESOURCES.get("ICON").get("BOOTY")
    DarkLabel:
        text: "%s" % int(app.max_capacity)
    Image:
        source: RESOURCES.get("ICON").get("POPULATION")
    DarkLabel:
        text: "%s/%s" % (int(app.current_population), int(app.max_population))


<BarracksScreen@Screen>:
    canvas.before:
        Color:
            rgba: 1, 242/255, 179/255, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: "vertical"
        HeaderBoxLayout
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.3
            Image:
                size_hint_x: 0.15 
                source: "img/Buildings/Barracks1.png"
            BoxLayout:
                orientation: "vertical"
                DarkLabel:
                    text: "Barracks (Level %s)" % app.barracks.level
                DarkLabel:
                    font_size: 25
                    text: "In the barracks you can recruit infantry.\nThe higher its level the faster the recruitment of troops will be finished."
        TabbedPanel:
            do_default_tab: False
            tab_width: self.width / 2
            TabbedPanelItem:
                text: "Recruitment"
                AllUnitsRecruit:

            TabbedPanelItem:
                text: "Decommissioning"
<Overview@Screen>:
    canvas.before:
        Color:
            rgba: 0,.3,0,1
        Rectangle:
            pos: self.pos
            size: self.size
    HeaderBoxLayout:
        pos_hint: {"top": 1}
    ImageButton:
        source: "img/Buildings/Main1.png"
        pos_hint: {"center_x": .7, "center_y": .7}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Place1.png"
        pos_hint: {"center_x": .65, "center_y": .45}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Statue1.png"
        pos_hint: {"center_x": .5, "center_y": .35}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Wood1.png"
        pos_hint: {"center_x": .9, "center_y": .1}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Stone1.png"
        pos_hint: {"center_x": .1, "center_y": .8}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Iron1.png"
        pos_hint: {"center_x": .1, "center_y": .1}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Farm1.png"
        pos_hint: {"center_x": .9, "center_y": .8}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Storage1.png"
        pos_hint: {"center_x": .25, "center_y": .55}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Hide1.png"
        pos_hint: {"center_x": .5, "center_y": .8}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Barracks1.png"
        pos_hint: {"center_x": .8, "center_y": .4}
        on_press: root.manager.current = "barracks_screen"
    ImageButton:
        source: "img/Buildings/Stable1.png"
        pos_hint: {"center_x": .25, "center_y": .35}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Garage1.png"
        pos_hint: {"center_x": .6, "center_y": .25}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Snob1.png"
        pos_hint: {"center_x": .3, "center_y": .75}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Smith1.png"
        pos_hint: {"center_x": .4, "center_y": .25}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Market1.png"
        pos_hint: {"center_x": .4, "center_y": .65}
        on_press: root.manager.current = "main"
    ImageButton:
        source: "img/Buildings/Wall1.png"
        pos_hint: {"center_x": .75, "center_y": .25}
        on_press: root.manager.current = "main"
        
        
<Main@Screen>:
    canvas.before:
        Color:
            rgba: 1, 242/255, 179/255, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: "vertical"
        HeaderBoxLayout
        DarkLabel:
            text: "Headquarters (Level %s)" % app.headquarters.level
            size_hint_y: None
            height: 100
        AllBuildingsUpgrade:

<IronMineScreen@Screen>:
    canvas.before:
        Color:
            rgba: 1, 242/255, 179/255, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: "vertical"
        HeaderBoxLayout
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.3
            Image:
                size_hint_x: 0.15 
                source: "img/Buildings/Iron1.png"
            BoxLayout:
                orientation: "vertical"
                DarkLabel:
                    text: "Iron mine (Level %s)" % app.iron_mine.level
                DarkLabel:
                    font_size: 25
                    text: "In the iron mine your workers dig the war-crucial iron.\nThe higher its level the more iron is produced."

<Game>:
    id: screen_manager
    overview: overview
    main: main
    barracks_screen: barracks_screen
    iron_mine_screen: iron_mine_screen
    IronMineScreen:
        id: iron_mine_screen
        name: "iron_mine_screen"
        manager: screen_manager
    Main:
        id: main
        name: "main"
        manager: screen_manager
    Overview:
        id: overview
        name: "overview"
        manager: screen_manager
    BarracksScreen:
        id: barracks_screen
        name: "barracks_screen"
        manager: screen_manager